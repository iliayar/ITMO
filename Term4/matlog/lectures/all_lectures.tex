% Created 2021-04-02 Fri 15:06
% Intended LaTeX compiler: pdflatex

\documentclass[oneside]{book}
\usepackage[T1, T2A]{fontenc}
\usepackage[lutf8]{luainputenc}
\usepackage[english, russian]{babel}
\usepackage{minted}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{natbib}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{amsmath}
\usepackage{caption}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{tikz}
\usepackage{grffile}
\usepackage{extarrows}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage{placeins}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{capt-of}
\usepackage{stmaryrd}

\addto\captionsrussian{\renewcommand{\chaptername}{Лекция}}
 \usepackage{hyperref}
 \hypersetup{
     colorlinks=true,
     linkcolor=blue,
     filecolor=orange,
     citecolor=black,      
     urlcolor=cyan,
     }

\usetikzlibrary{decorations.markings}
\usetikzlibrary{cd}
\usetikzlibrary{patterns}
\usetikzlibrary{automata, arrows}

\newcommand\addtag{\refstepcounter{equation}\tag{\theequation}}
\newcommand{\eqrefoffset}[1]{\addtocounter{equation}{-#1}(\arabic{equation}\addtocounter{equation}{#1})}


\newcommand{\R}{\mathbb{R}}
\renewcommand{\C}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\rank}{\text{rank}}
\newcommand{\const}{\text{const}}
\newcommand{\grad}{\text{grad}}

\newcommand{\todo}{{\color{red}\fbox{\text{Доделать}}}}
\newcommand{\fixme}{{\color{red}\fbox{\text{Исправить}}}}

\newcounter{propertycnt}
\setcounter{propertycnt}{1}
\newcommand{\beginproperty}{\setcounter{propertycnt}{1}}

\theoremstyle{plain}
\newtheorem{propertyinner}{Свойство}
\newenvironment{property}{
  \renewcommand\thepropertyinner{\arabic{propertycnt}}
  \propertyinner
}{\endpropertyinner\stepcounter{propertycnt}}
\newtheorem{axiom}{Аксиома}
\newtheorem{lemma}{Лемма}
\newtheorem{manuallemmainner}{Лемма}
\newenvironment{manuallemma}[1]{%
  \renewcommand\themanuallemmainner{#1}%
  \manuallemmainner
}{\endmanuallemmainner}

\theoremstyle{remark}
\newtheorem*{remark}{Примечание}
\newtheorem*{solution}{Решение}
\newtheorem{corollary}{Следствие}[theorem]
\newtheorem*{examp}{Пример}
\newtheorem*{observation}{Наблюдение}

\theoremstyle{definition}
\newtheorem{task}{Задача}
\newtheorem{theorem}{Теорема}[section]
\newtheorem*{definition}{Определение}
\newtheorem*{symb}{Обозначение}
\newtheorem{manualtheoreminner}{Теорема}
\newenvironment{manualtheorem}[1]{%
  \renewcommand\themanualtheoreminner{#1}%
  \manualtheoreminner
}{\endmanualtheoreminner}
\captionsetup{justification=centering,margin=2cm}
\newenvironment{colored}[1]{\color{#1}}{}

\tikzset{->-/.style={decoration={
  markings,
  mark=at position .5 with {\arrow{>}}},postaction={decorate}}}
\makeatletter
\newcommand*{\relrelbarsep}{.386ex}
\newcommand*{\relrelbar}{%
  \mathrel{%
    \mathpalette\@relrelbar\relrelbarsep
  }%
}
\newcommand*{\@relrelbar}[2]{%
  \raise#2\hbox to 0pt{$\m@th#1\relbar$\hss}%
  \lower#2\hbox{$\m@th#1\relbar$}%
}
\providecommand*{\rightrightarrowsfill@}{%
  \arrowfill@\relrelbar\relrelbar\rightrightarrows
}
\providecommand*{\leftleftarrowsfill@}{%
  \arrowfill@\leftleftarrows\relrelbar\relrelbar
}
\providecommand*{\xrightrightarrows}[2][]{%
  \ext@arrow 0359\rightrightarrowsfill@{#1}{#2}%
}
\providecommand*{\xleftleftarrows}[2][]{%
  \ext@arrow 3095\leftleftarrowsfill@{#1}{#2}%
}
\makeatother
\author{Ilya Yaroshevskiy}
\date{\today}
\title{Лекции по Математической логике 4 семестр}
\hypersetup{
 pdfauthor={Ilya Yaroshevskiy},
 pdftitle={Лекции по Математической логике 4 семестр},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 28.0.50 (Org mode 9.4.4)}, 
 pdflang={English}}
\begin{document}

\maketitle
\tableofcontents


\chapter{TODO}
\label{sec:org0e6028a}
\chapter{TODO}
\label{sec:orged1d912}
\chapter{TODO}
\label{sec:orgbcce6ac}
\chapter{}
\label{sec:orgd4650e0}
\renewcommand{\P}{\mathcal{P}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\L}{\mathcal{L}}
\newcommand{\B}{\mathcal{B}}


\begin{definition}
\textbf{Предпорядок} --- транзитивное, рефлексивнре
\end{definition}
\begin{definition}
\textbf{Отношение порядка} (частичный) --- антисимметричное, транзитивное, рефлексивное
\end{definition}
\begin{definition}
\textbf{Линейный порядок} --- порядок в котором \(a \preceq b\) или \(b \preceq a\)
\end{definition}
\begin{definition}
\textbf{Полный порядок} --- линейный, каждое подмножество имеет наименьший элемент. 
\end{definition}
\begin{examp}
\(\N\) --- вполне упорядоченное множество
\end{examp}
\begin{examp}
\(\R\) --- не вполне упорядоченной множество
\begin{itemize}
\item \((0, 1)\) не имееи наименььшего
\item \(\R\) не имеет наименьшего
\end{itemize}
\end{examp}
\section{Табличные модели}
\label{sec:org0a7f6ba}
\begin{definition}
Назовем модель \textbf{табличной} для ИИВ:
\begin{itemize}
\item \(V\) --- множество истинностных значений \\
\(f_\to,f_\&, f_V: V^2 \to V\), \(f_\neg: V \to V\) \\
Выделенные значения \(T \in V\) \\
\(\llbracketp+i\rrbracket \in V\) \(f_p : p_i \to V\)
\item \(p_i = f_\P(p_i)\) \\
\(\llbracket\alpha \star \beta\rrbracket = f_\star(\llbracket\alpha\rrbracket, \llbracket\beta\rrbracket)\) \\
\(\llbracket\neg \alpha\rrbracket = f_\neg(\llbracket\alpha\rrbracket)\)
\end{itemize}
\sout{Если \(\vdash \alpha\), то} \(\vDash \alpha\) означает, что \(\llbracket\alpha\rrbracket = T\), при любой \(f_\P\)
\end{definition}
\begin{definition}
Конечная модель: модель где \(V\) --- конечно
\end{definition}
\begin{theorem}
У ИИВ не существует полной табличной модели
\end{theorem}
\section{Модели Крипке}
\label{sec:orgd09fff7}
\begin{center}
\begin{tikzpicture}
\node at (0,0) (A) {\( P = NP? \)};
\node at (2, 2) (B) {все банки лопнут, RSA сломают!!!};
\node at (2, -2) (C) {RSA устоит};
\draw[->] (A) -- node[above] {\(+\)} (B);
\draw[->] (A) -- node[below] {\(-\)} (C);
\end{tikzpicture}
\end{center}
\begin{defintion}
\-
\begin{enumerate}
\item \(W = \{W_i\}\) --- множество миров
\item частичный порядок(\(\succeq\))
\item отношение вынужденности: \(W_j \Vdash p_i\) \\
\((\Vdash)  \subseteq W \times \P\) \\
При этом, если \(W_j \Vdash p_i\) и \(W_j \preceq W_k\), то \(W_j \Vdash p\)
\end{enumerate}
\end{defintion}
\begin{definition}
\-
\begin{enumerate}
\item \(W_i \Vdash \alpha\) и \(W_i \Vdash \beta\), тогда (и только тогда) \(W_i \Vdash \alpha \& \beta\) \\
\item \(W_i \Vdash \alpha\) или \(W_i \Vdash \beta\), то \(W_i \Vdash \alpha \vee \beta\)
\item Пусть во всех \(W_i \preceq W_j\) всегда когда \(W_j \Vdash \alpha\) имеет место \(W_j \Vdash \beta\) \\
Тогда \(W_i \Vdash \alpha \to \beta\)
\item \(W_i \Vdash \neg \alpha\) --- \(\alpha\) не вынуждено нигде, начиная с \(W_i\):
\(W_i \preceq W_j\), то \(W_j \not\Vdash \alpha\)
\end{enumerate}
\end{definition}
\begin{theorem}
Если \(W_i \Vdash \alpha\) и \(W_i \preceq W_j\), то \(W_j \Vdash \alpha\)
\end{theorem}
\begin{definition}
Если \(W_i \Vdash \alpha\) при всех \(W_i \in W\), то \(\vDash \alpha\)
\end{definition}
\begin{theorem}
ИИВ корректна в модели Крипке
\end{theorem}
\begin{proof}
\begin{enumerate}
\item \(\langle W, \Omega \rangle\) --- топология, где \(\Omega = \{w \subseteq W | \text{если }W_i \in w,\ W_i \preceq W_j,\text{ то } W_j \in w\}\) \\
\item \(\{W_k | W_k \Vdash p_j\}\) --- открытое множество \\
Примем \(\llbracket p_j \rrbracket = \{W_k | W_k \Vdash p_j\}\) \\
Аналогично \(\llbracket \alpha \rrbracket = \{W_k | W_k \Vdash \alpha\}\)
\end{enumerate}
\end{proof}
\section{Доказательство нетабличности}
\label{sec:org6827a0b}
Пусть существует конечная табличная модель \(|V| = n\)
\[ \varphi_n =  \bigvee_{\substack{1 \le i, j \le n + 1 \\ i \neq j}} (p_i \to p_j \&p_j \to p_i)\]
\begin{enumerate}
\item \(\not\vdash\varphi\)
\begin{center}
\begin{tikzpicture}
\node[anchor=west] at (0, 0) (A) {\(W_0\)};
\node[anchor=west] at (1, 2) (B) {\(W_1\)};
\node[anchor=west] at (1, 1) (C) {\(W_2\)};
\node[anchor=west] at (1, 0) (D) {\(\vdots\)};
\node[anchor=west] at (1, -1) (E) {\(W_{n + 1}\)};
\draw[->] (A) -- (B);
\draw[->] (A) -- (C);
\draw[->] (A) -- (E);
\node[anchor=west] at (2, 2) {\(p_1\)};
\node[anchor=west] at (2, 1) {\(p_2\)};
\node[anchor=west] at (2, -1) {\(p_{n + 1}\)};
\end{tikzpicture}
\end{center}
\[ W_1 \not\Vdash (p_i \to p_k)\&(p_k\to p_1),\ k\neq 1 \]
Значит \[ \not\vDash (p_i\to p_j)\&(p_j\to p_i) \]
\[ \not\vDash \bigvee (p_i\to p_j)\&(p_j\to p_i) \]
\[ \not\vdash\varphi_n \]
\item \(\vDash_V \varphi_n\): по признаку Дирихле найдутся \(i\neq j:\llbracket p_i \rrbracket = \llbracket p_j \rrbracket\) \\
\(\llbracket p_i \to p_j \rrbracket = \text{И}\) и \(\llbracket \varphi_n \rrbracket = \text{И}\) \\
Значит \(\vdash \varphi_n\) --- противоречие
\end{enumerate}
\begin{definition}
\textbf{Дизъюнктивность} ИИВ: \(\vdash \alpha \vee \beta\) влечет \(\vdash \alpha\) или \(\vdash \beta\)
\end{definition}
\begin{definition}
Гёделева алгебра --- алгебра Гейтинга, такая что из \(\alpha + \beta = 1\) следует что \(\alpha = 1\) или \(\beta = 1\) \\
\end{definition}
\begin{definition}
Пусть \(\A\) --- алгебра Гейтинга, тогда:
\begin{enumerate}
\item \(\Gamma(\A)\) \\
\begin{center}
\begin{tikzpicture}
\draw (-1, 0) circle[radius=0.5cm] node {\(\A\)};
\draw (1, 0) circle[radius=0.5cm] node {\(\A\)};
\node (0, 0) {\(\Rightarrow\)};
\draw (-1, 0.5) circle[radius=1pt,fill=black] node[above] {\(1\)};
\draw (1, 0.5) circle[radius=1pt,fill=black] node[above right] {\(\omega\)};
\draw (1, 1.5) circle[radius=1pt,fill=black] node[above] {\(1\)};
\draw (1, 1.5) -- (1, 0.5);
\end{tikzpicture}
\end{center}

Добавим новый элемент \(1_{\Gamma(\A)}\) перенеименуем \(1_\A\) в  \(\omega\)
\end{enumerate}
\end{definition}
\begin{theorem}
\-
\begin{itemize}
\item \(\Gamma(\A)\) --- алгебра Гейтинга
\item \(\Gamma(\A)\) --- Геделева
\end{itemize}
\end{theorem}
\begin{definition}
\textbf{Гомоморфизм} алгебр Гейтинга \\
\begin{itemize}
\item \(\varphi: \A \to \B\)
\item \(\varphi(a \star b) = \varphi(a)\star\varphi(b)\)
\item \(\varphi(1_\A) = 1_\B\)
\item \(\varphi(0_\A) = 0_\B\)
\end{itemize}
\end{definition}
\begin{theorem}
\(a \le b\), то \(\varphi(a) \le \varphi(b)\)
\end{theorem}
\begin{definition}
\-
\begin{itemize}
\item \(\alpha\) --- формула ИИВ
\item \(f, g\): оценки ИИВ
\item \(f\): ИИВ \(\to\) \(\A\)
\item \(g\): ИИВ \(\to\) \(\B\)
\end{itemize}
\(\varphi\) согласованы \(f, g\), если \(\varphi(f(\alpha)) = g(\alpha)\)
\end{definition}
\begin{theorem}
если \(\varphi: \A \to \B\) согласована с \(f, g\) и оценка \(\llbracket \alpha \rrbracket_g \neq 1_\B\), то \(\llbracket \alpha \rrbracket_f \neq 1_\A\)
\end{theorem}
\begin{theorem}
ИИВ дизъюнктивно
\end{theorem}
\begin{proof}
Рассмторим алгебру Линденбаума: \(\mathcal{L}\) \\
Рассмотрим \(\Gamma(\mathcal{L})\) \\
\begin{itemize}
\item \(\varphi: \Gamma(\mathcal{L}) \to \mathcal{L}\)
\end{itemize}
\[ \varphi(x) = \begin{cases}1_\mathcal{L} & ,\substack{x =\omega \\ x = 1_{\Gamma(\mathcal{L})}} \\ x & , \text{иначе}\end{cases} \] 
\(\varphi\) --- гомоморфизм \\
Пусть \(\vdash \alpha \vee \beta\), тогда \(\llbracket \alpha \vee \beta \rrbracket_{\Gamma(\mathcal{L})} = 1_{\Gamma(\mathcal{L})}\) \\
\(\llbracket \alpha + \beta \rrbracket = 1\), и т.к. \(\Gamma(\mathcal{L})\) --- Геделева то \(\llbracket \alpha \rrbracket = 1\) или \(\llbracket \beta \rrbracket = 1\) \\
Пусть \(\not \vdash \alpha\) и \(\not \vdash \beta\), тогда \(\varphi(\llbracket \alpha \rrbracket) \neq 1_\mathcal{L}\) и \(\varphi(\llbracket \beta \rrbracket) \neq 1_\mathcal{L}\), т.е. \(\llbracket \alpha \rrbracket_\mathcal{L} \neq 1_\mathcal{L}\) и \(\llbracket \beta \rrbracket_\mathcal{L} \neq 1_\mathcal{L}\), тогда \(\llbracket \alpha \rrbracket_{\Gamma(\mathcal{L})} \neq 1_{\Gamma(\mathcal{L})}\) и \(\llbracket \beta \rrbracket_{\Gamma(\mathcal{L})} \neq 1_{\Gamma(\mathcal{L})}\) \(\Rightarrow\) Противоречие
\end{proof}
\chapter{}
\label{sec:orga8d8e1f}
\section{Программы}
\label{sec:org75f9f76}
программа(функция)
\begin{itemize}
\item \(P: \alpha \to \beta\) --- берет \(\alpha\), возвращает \(\beta\)
\item \(P\) --- доказательство, что из \(\alpha\) следует \(\beta\)
\begin{examp}
\-
\begin{minted}[frame=lines,linenos=true,mathescape]{haskell}
f a = a
\end{minted}
\(f: A \to A\) --- \(f\) доказывает что, из \(A\) следует \(A\)
\end{examp}
\end{itemize}

\begin{center}
\begin{tabular}{ll}
логическок исчесления & Типизированное \(\lambda\)-исчесление\\
\hline
логическая формула & тип\\
доказательство & значение\\
доказуемая формула & обитаемый тип(имеет хотя бы один экземпляр)\\
\(\to\) & функция\\
\& & упорядоченная пара\\
\(\vee\) & алг. тип(тип-сумма)\\
\end{tabular}
\end{center}
\begin{examp}
\(5\) доказывает Int
\end{examp}
\begin{examp}
Список:
\begin{minted}[frame=lines,linenos=true,mathescape]{pascal}
Type list = Record
   Nul: boolean;
   case Nul of
     True  : ;
     False : Next: ^list;
end;
\end{minted}
\begin{minted}[frame=lines,linenos=true,mathescape]{c}
struct list {
	*list next;
};
\end{minted}
Если \texttt{next == NULL} --- то конец
\end{examp}
\begin{examp}
Дерево:
\begin{minted}[frame=lines,linenos=true,mathescape]{c}
struct tree {
	tree* left;
	tree* right;
	int value;
};
\end{minted}
\end{examp}

\begin{definition}
\textbf{Отмеченное(дизъюнктное)} объединение множеств: \\
\begin{itemize}
\item \(A, B\) --- множества
\item \(A \sqcup B = \{\langle ``A``, a \rangle| a\in A\}\cup\{\langle ``B``, a \rangle | b \in B\}\)
\end{itemize}
Пусть \(S \in A \sqcup B\). Мы знаем откуда \(S\)
\end{definition}
\begin{minted}[frame=lines,linenos=true,mathescape]{haskell}
data List a = Nil | Cons a (List a)
example = Cons 1 (Cons 2 (Cons 3 Nil)) -- [1; 2; 3]
\end{minted}
\begin{minted}[frame=lines,linenos=true,mathescape]{c}
union {
	int a;
	char b;
};
\end{minted}
\begin{examp}
\[
\frac{\Gamma \vdash \overset{\text{Nil}}{\alpha} \to \gamma\quad \Gamma \vdash \overset{\text{Cons}}{\beta} \to \gamma\quad \Gamm \vdash \alpha \vee \beta}{\Gamma \vdash \underset{\text{int}}{\gamma}}
\]
\begin{minted}[frame=lines,linenos=true,mathescape]{ocaml}
let rec count l (* $\alpha + \beta$ *) =
match l with
   | Nil (* $\alpha$ *) -> 0 (* $\alpha \to \text{int}$ *)
   | Cons(hd, tl) (* $\beta$ *) -> 1 + count tl (* $\beta \to \text{int}$ *)
\end{minted}
\end{examp}
\subsection{Исчесление предикатов}
\label{sec:org5e338b6}
\begin{definition}
Язык исчисление предикатов
\begin{itemize}
\item логические выражения "предикаты"/"формулы"
\item предметные выражния "термы"
\end{itemize}
\(\Theta\) --- метаперменные для термов \\
Термы:
\begin{itemize}
\item Атомы:
\begin{itemize}
\item \(a, b, c, d, \dots\) --- предметные переменные
\item \(x, y, z\) --- метапеременные для предметных перменных
\end{itemize}
\item Функциональные Символы
\begin{itemize}
\item \(f, g, h\) --- Функциональные символы(метаперемнные)
\item \(f(\Theta_1, \dots \Theta_n)\) --- применение функциональных символов
\end{itemize}
\item Логические выражения: \\
\color{gray}Если \(n = 0\), будем писать \(f, g\) --- без скобок\color{black}
\begin{itemize}
\item \(P\) --- метаперменные для предикатных символов
\item \(A, B, C\) --- предикатный символ
\item \(P(\Theta_1, \dots, \Theta_n)\) --- применение предикатных символов
\item \(\&, \vee, \neg, \to\) --- Cвязки
\item \(\forall x.\varphi\) и \(\exists x.\varphi\) --- кванторы \\
\color{gray}"<квантор> <переменная>.<выражение>"\color{black} \\
\end{itemize}
\end{itemize}
\end{definition}
\begin{enumerate}
\item Сокращение записи
\label{sec:org9d9d8e6}
И.В + жадность \(\forall, \exists\) \\
Метавыражение:
\[ \forall x. \color{green}(\color{black}P(x) \& \color{green}(\color{black}\forall y. P(y) \color{green}))\color{black} \]
Квантор съедает все что дают, т.е. имеет минимальный приоритет. \\
Правильный вариант(настоящее выражние):
\[ \forall a. B(A) \& \forall b. B(b) \]
\end{enumerate}
\subsection{Теория моделей}
\label{sec:orga42b697}
Оценка формулы в исчислении предикатов:
\begin{enumerate}
\item Фиксируем \(D\) --- предметное множетво
\item Кажодму \(f_i(x_1, \dots, x_n)\) сопоставим функцию \(D^n \to D\)
\item Каждому \(P_j(x_1, \dots, x_m)\) сопоставим функцию(предикат) \(D^2 \to V\)
\item Каждой \(x_i\) сопоставим элемент из \(D\)
\end{enumerate}
\begin{examp}
\[\forall x.\forall y.\ E(x, y)\]
Чтобы определить формулу сначала определим \(D = \N\) 
\[ E(x, y) = \begin{cases}\text{И} & ,x = y \\ \text{Л} &, x\neq y\end{cases} \]
\begin{itemize}
\item \(\llbracket x \rrbracket = f_{x_i}\)
\item \(\llbracket \alpha \star \beta \rrbracket\) --- смотри ИИВ
\item \(\llbracket P_i(\Theta_1, \dots , \Theta_n) \rrbracket = f_{P_i}(\llbracket \Theta_1 \rrbracket, \dots, \llbracket \Theta_n \rrbracket)\)
\item \(\llbracket f_j(\Theta_1 , \dots, \Theta_n ) \rrbracket = f_{f_j}(\llbracket \Theta_1 \rrbracket, \dots, \llbracket \Theta_n \rrbracket)\)
\item \[ \llbracket \forall x. \varphi \rrbracket = \begin{cases} \text{И} & , \text{если } \llbracket \varphi \rrbracket^{f_x = k} = \text{И}\text{ при всех } k \in D  \\ \text{Л} &,\text{иначе}\end{cases} \]
\item \[ \llbracket \exists x.\varphi \rrbracket = \begin{cases} \text{И} &, \text{если } \llbracket \varphi \rrbracket^{f_x = k} = \text{И при некотором } k \in D \\ \text{Л} &,\text{иначе}\]
\end{itemize}
\[ \llbracket \forall x.\forall y.E(x, y) \rrbracket = \text{Л} \]
т.к. \(\llbracket E(x, y) \rrbracket^{x:=1,\ y:=2} = \text{Л}\)
\end{examp}
\newcommand{\colorboxed}[2]{\,\color{#1}\fbox{\color{black}#2}\color{black}\,}

\begin{examp}
\[ \forall \colorboxed{green}{\varepsilon > \colorboxed{blue}{0}}\ \exists N\ \forall \colorboxed{green}{\colorboxed{blue}{n} > \colorboxed{blue}{N}}\quad \colorboxed{green}{\colorboxed{blue}{|a_n - a|} < \colorboxed{blue}{\varepsilon}} \]
Синим отмечены функциональные конструкции(термы), зеленым предикатные
\[ \forall \varepsilon. (\varepsilon > 0) \to \exists N. \forall n. (n > N) \to (|a_n - a| < \varepsilon) \]
Обозначим:
\begin{itemize}
\item \((>)(a, b) = G(a, b)\) --- предикат
\item \(|\bullet|(a) = m_|(a)\)
\item \((-)(a, b) = m_-(a, b)\)
\item \(0() = m_0\)
\item \(a_\bullet(n) = m_a(n)\)
\end{itemize}
\[ \forall e. \colorboxed{green}{G(\colorboxed{blue}{e}, \colorboxed{blue}{m_0})} \to \exists n_0.\forall n. \colorboxed{green}{G(n, n_0)}\to \colorboxed{green}{G\bigg(e, \colorboxed{blue}{m_|\Big(m_- \big(m_a(n), a\big)\Big)}\bigg)} \]
\end{examp}
\subsection{Теория доказательств}
\label{sec:orgb12512f}
Все аксимомы И.В + M.P.
\begin{description}
\item[{(cхема 11)}] \((\forall x. \varphi) \to \varphi[x:=\Theta]\)
\item[{(схема 12)}] \(\varphi[x:=\Theta]\to \exists x. \varphi\)
\end{description}
Если \(\Theta\) свободен для подстановки вместо \(x\) в \(\varphi\).
\begin{definition}
\textbf{Свободен для подстановки} --- никакое свободное вхождение \(x\) в \(\Theta\) не станет связанным
\end{definition}
\begin{examp}
\-
\begin{minted}[frame=lines,linenos=true,mathescape]{c}
int y;
int f(int x) {
	x = y;
}
\end{minted}
Заменим \texttt{y := x}. Код сломается, т.к. у нас нет свобод для подстановки
\end{examp}
\begin{description}
\item[{(Правило \(\forall\))}] \[\frac{\varphi \to \psi}{\varphi \to \forall x. \psi}\]
\item[{(Правило \(\exists\))}] \[ \frac{\psi \to \varphi}{\exists x.\psi \to \varphi} \]
\end{description}
В обоих правилах \(x\) не входит свободно в \(\varphi\)
\begin{examp}
\[ \frac{x = 5 \to x^2 = 25}{x = 5 \to \forall x. x^2 = 25} \]
Между \(x\) и \(x^2\) была связь, мы ее разрушили. Нарушено ограничение
\end{examp}
\begin{examp}
\[ \exists y. x = y \]
\[ \forall x. \exists y. x = y \to \exists y. y + 1 = y \]
Делаем замену \texttt{x := y+1}. Нарушено требование свобод для подстановки. \(y\) входит в область действия квантора \(\exists\) и поэтому свободная переменная \(x\) стала связанная.
\end{examp}
\chapter{}
\label{sec:org462c941}
\section{Исчисление предикатов}
\label{sec:org07a0556}
\subsection{Расставление скобок}
\label{sec:org2d6f09b}
Кванторы имеют наименьший приоритет
\begin{examp}
\[ \forall x. A \& B \& \forll y. C \& D \vee \exists z. E \]
\[ (\forall x. (A \& B \& \forall y. (C \& D \vee \exists z. (E)))) \]
\end{examp}
Еще раз про правила только со скобками
\begin{enumerate}
\item \[ \frac{\varphi \to \psi}{(\exists. \varphi) \to \psi} \]
\item \[ \frac{\psi \to \varphi}{\psi \to (\forall x. \varphi)} \]
\end{enumerate}
\begin{examp}
\[ \frac{\varphi \to \psi}{\exists x.(\varphi \to \psi)} \]
--- можно доказать, но это не правило вывода для \(\exists\)
\end{examp}
\begin{definition}
\-
\(\alpha_1, \dots, \alpha_n\) --- доказательство
\begin{itemize}
\item если \(\alpha_i\) --- аксимома
\item либо существует \(j, k < i\), что \(\alpha_k = \alpha_j \to \alpha_i\)
\item либо существует \(\alpha_j:\ \alpha_j = \varphi \to \psi\) и \(\alpha_i = (\exists x. \varphi) \to \psi\) причем \(x\) не входит свободно в \(\psi\)
\item либо существует \(j: \alpha_j = \psi \to \varphi\) и \(\alpha_i = \psi \to \forall x. \varphi\) причем \(x\) не входит свободно в \(\psi\)
\end{itemize}
\end{definition}
\subsection{Вхождение}
\label{sec:org422cf54}
\begin{examp}
\[ (P(\underset{1}{x}) \vee Q(\underset{2}{x})) \to (R(\underset{3}{x}) \& (\underbrace{\forall \underset{4}{x}. P_1(\underset{5}{x})}_{\text{область }\forall\text{ по }x})) \]
1, 2, 3 --- свободные, 5 --- связанное, по пермененной 4
\end{examp}
\begin{examp}
\[ \underbrace{\forall x. \forall y. \forall x. \forall y. \forall x. P(x)}_{\text{область }\forall\text{ по }x} \]
Здесь \(x\) в \(P(x)\) связано. \(x\) не входит свободно в эту формулу, потому что нет свободных вхождений
\end{examp}
\begin{definition}
Переменная \(x\) входит свободно если существует свободное вхождение
\end{definition}
\begin{definition}
Вхождение свободно, если не связано
\end{definition}
Можно относится к свободно входящим перменным как с перменным из библиотеки, т.е. мы не имеем права их переименовывать
\begin{examp}
Некорректная формула
\begin{description}
\item[{\(\alpha_1\)}] \(x = 0 \to x = 0\)
\item[{\(\alpha_2\)}] \color{red}\((\exists x. x = 0) \to (x = 0)\) --- не доказано\color{black}
\item[{\(\alpha_2'\)}] \((\exists t. x = 0) \to (x = 0)\) --- (правило \(\exists\))
\end{description}
\end{examp}
\begin{examp}
\-
\begin{description}
\item[{\((n)\)}] \(x = 0 \to y = 0\) --- откуда то
\item[{\((n + 1)\)}] \((\exists x. x = 0) \to (y = 0)\) --- (правило \(\exists\))
\end{description}
\end{examp}
\subsection{Свободные подстановки}
\label{sec:orgd76ecb0}
\begin{definition}
\(\Theta\) свободен для подстановки вместо \(x\) в \(\varphi\), если никакая свободная перменная в \(\Theta\) не станет связанной в \(\varphi[x := \Theta]\)
\end{definition}
\begin{definition}
\(\varphi[x := \Theta]\) --- "Заменить все свободные вхождения x в \(\varphi\) на \(\Theta\)"
\end{definition}
\begin{examp}
\[ (\forall x. \forall y. \forall x. P(x))[x := y] \equiv \forall x. \forall y. \forall x. P(x) \]
\end{examp}
\begin{examp}
\[ P(x) \vee \forall x. P(x)\ [x := y] \equiv P(y) \vee \forall x. P(y) \]
\end{examp}
\begin{examp}
\[ (\forall y. x = y)\ [x := \underbrace{y}_{\equiv \Theta}] \equiv \forall y. \underset{1}{y} = y\]
\(FV(\Theta) = \{y\}\) --- свободные перменные в \(\Theta\). Вхождение \(y\) с номером 1 стало связанным
\end{examp}
\begin{examp}
\[ P(x) \& \forall y. x = y\ [x := y + z] \equiv P(y + z) \& \forall y. \underset{1}{y} + z = y \]
Здесь при подстановке вхождение \(y\) с номером 1 cтало связанным. \(x\) --- библиотечная функция, переименовали \(x\) во что-то другое.
\end{examp}
\subsection{Пример доказательства}
\label{sec:org05587ad}
\begin{lemma}
Пусть \(\vdash \alpha\). Тогда \(\vdash \forall x. \alpha\)
\end{lemma}
\begin{proof}
\-
\begin{enumerate}
\item Т.к. \(\vdash \alpha\), то существует \(\gamma_1, \dots, \gamma_2: \gamma_n = \alpha\)
\[ \begin{matrix}
   (1) & \gamma_1 &  \\
   \vdots & \vdots &  \\
   (n) & \gamma_n (\equiv \alpha) &  \\
   (n + 1) & A\& A \to A & \text{(акс)} \\
   (n + 2) & \alpha \to ((A \& A \to A) \to \alpha) & \text{(акс)} \\
   (n + 3) & (A \& A \to A) \to \alpha & (\text{M.P } n, n + 2) \\
   (n + 4) & (A \& A \to A) \to \forall x.\alpha & (\text{введение }\forall\ n + 3) \\
   (n + 5) & \forall x. \alpha & (\text{M.P. } n + 1, n + 4)
   \end{matrix} \]
\end{enumerate}
\end{proof}
\subsection{Теорема о дедукции}
\label{sec:org589dd3b}
\begin{theorem}
Пусть задана \(\Gamma,\ \alpha,\beta\)
\begin{enumerate}
\item Если \(\Gamma, \alpha \vdash \beta\), то \(\Gamma \vdash \alpha \to \beta\), при условии, если \(b\) в доказательстве \(\Gamma, \alpha \to \beta\) не применялись правила для \(\forall, \exists\) по перменным, входяшим свободно в \(\alpha\)
\item Если \(\Gamma \vdash \alpha \to \beta\), то \(\Gamma, \alpha \vdash \beta\)
\end{enumerate}
\end{theorem}
\begin{enumerate}
\item {\bfseries\sffamily TODO} Доказательсво
\label{sec:org3adc0c5}
\end{enumerate}
\chapter{}
\label{sec:org82dded2}
\begin{itemize}
\item \(\Gamma \vDash \alpha\) --- \(\alpha\) следует из \(\Gamma\) при всех оценках, что все \(\gamma \in \Gamma\quad \llbracket \gamma \rrbracket = \text{И}\), выполнено \(\llbracket \alpha \rrbracket = \text{И}\)
\item \(x = 0 \vdash \forall x. x = 0\)
\item \(x = 0 \not\vDash \forall x. x = 0\)
\end{itemize}
\begin{definition}[Условие для корректности]
Правила для кванторов по свободным перменным из \(\Gamma\) запрещены. \\
\uline{Тогда} \(\Gamma \vdash \alpha\) влечет \(\Gamma \vDash \alpha\)
\end{definition}
\section{Полнота исчесления предикатов}
\label{sec:org6ac35c6}
\begin{definition}
\(\Gamma\) --- \textbf{непротиворечивое} множество формул, если \(\Gamma \not\vdash \alpha \& \neg \alpha\) ни при каком \(\alpha\)
\end{definition}
\begin{examp}
Непротиворечивые:
\begin{itemize}
\item \(\emptyset\)
\item \(A \vee \neg A\)
\end{itemize}
Противоречивые:
\begin{itemize}
\item \(A \& \neg A\)
\end{itemize}
\end{examp}
\begin{remark}
Непротиворечивое множество замкнутых(не имеющая сводных перменных) бескванторных формул
\end{remark}
\begin{examp}
\(\{A\}, \{0 = 0\}\)
\end{examp}
\begin{definition}
\textbf{Моделью} для непротиворечивого множества замкнутых бескванторных формул \(\Gamma\) --- такая модель, что каждая формула из \(\Gamma\) оценивается в И
\end{definition}
\begin{definition}
Полное непротиворечивое замкнутых бескванторных формул --- такое, что для каждой замкнутой бескванторной формулы \(\alpha\): либо \(\alpha \in \Gamma\), либо \(\neg \alpha \in \Gamma\)
\end{definition}
\begin{symb}
\textbf{з.б.} --- замкнутая бескванторная. \textbf{непр. мн} --- непротиворечивое множество
\end{symb}
\begin{theorem}
Если \(\Gamma\) --- непротиворечивое множество з.б. фомул и \(\alpha\) --- з.б.  формула. \\
То либо \(\Gamma \cup \{\alpha\}\), либо \(\Gamma \cup \{\neg \alpha\}\) --- непр. мн. з.б. формул
\end{theorem}
\begin{proof}
Пусть и \(\Gamma \cup \{\alpha\}\) и \(\Gamma \cup \{\neg \alpha\}\)\todo
\end{proof}
\begin{theorem}
Если \(\Gamma\) --- непр. мн. з.б. фомул, то можно построить \(\Delta\) --- полное непр. мн. з.б. формул. \(\Gamma \subseteq \Delta\) и в языке --- счетное количество формул
\end{theorem}
\(\varphi_1, \varphi_2, \varphi_3, \dots\) --- формулы з.б. \\
\begin{itemize}
\item \(\Gamma_0 = \Gamma\)
\item \(\Gamma_1 = \Gamma_0 \cup \{\varphi_1\}\) либо \(\Gamma_0 \cup \{\neg \varphi_1\}\) --- смотря что непротиворечивое
\item \(\Gamma_2 = \Gamma_1 \cup \{\varphi_2\}\) либо \(\Gamma_1 \cup \{\neg \varphi_2\}\)
\end{itemize}
\[ \Gamma^* = \bigcup_i \Gamma_i \]
\begin{property}
\(\Gamma^*\) --- полное
\end{property}
\begin{property}
\(\Gamma^*\) --- непрерывное
\end{property}
\begin{proof}
Пусть \(\Gamma^* \vdash \beta \& \neg \beta\) \\
Конечное доказательство \(\gamma_1, \dots \gamma_n\), часть из которых гипотезы: \(\gamma_1, \dots, \gamma_k\) \\
\(\gamma_i \in \Gamma_{R_i}\). Возьмем \(\Gamma_{\max{R_i}}\). Правда ли \(\Gamma_{\max{R_i}} \vdash B \& \neg B\)
\end{proof}
\begin{theorem}
Любое полное непротиворечивое множество замкнутых бескванторных формул \(\Gamma\) имеет модель, т.е. существует оценка \(\llbracket \rrbracket\): если \(\gamma \in \Gamma\), то \(\llbracket \gamma \rrbracket = \text{И}\)
\end{theorem}
\begin{proof}
\(D\) --- все записи из функциональных символов.
\begin{itemize}
\item \(\llbracket f_0^n \rrbracket\) --- константа \(\Rightarrow\) \(``f_0^n``\)
\item \(\llbracket f_k^m (\Theta_1, \dots, \Theta_k) \rrbracket\) \(\Rightarrow\) \(``f_k^m(`` + \llbracket \Theta_1 \rrbracket + ``,`` + \dots + ``,`` + \llbracket \Theta_k \rrbracket + ``)``\)
\item \(\llbracket P(\Theta_1, \dots, \Theta_n) \rrbracket = \begin{cases} \text{И} & P(\Theta_1, \dots, \Theta_n) \in \Gamma \\ \text{Л} & \text{иначе} \end{cases}\)
\item свободные переменные: \(\emptyset\)
\end{itemize}
Так построенные модель --- модель для \(\Gamma\). Индукция по количеству связок. \\
\uline{База} очев. \\
\uline{Переход} \(\alpha \& \beta\). При этом
\begin{enumerate}
\item Если \(\alpha, \beta \in \Gamma\) \(\llbracket \alpha \rrbracket = \text{И}\) и \(\llbracket \beta \rrbracket = \text{И}\) то \(\alpha \& \beta \in \Gamma\)
\item Если \(\alpha, \beta \not\in \Gamma\) \(\llbracket \alpha \rrbracket \neq \text{И}\) или \(\llbracket \beta \rrbracket \neq \text{И}\) то \(\alpha \& \beta \not\in \Gamma\)
\end{enumerate}
Аналогично для других операций
\end{proof}
\begin{theorem}[Геделя о полноте]
Если \(\Gamma\) --- полное неротиворечивое множество замкнутых(не бескванторных) фомул, то оно имеет модель
\end{theorem}
\begin{corollary}
Пусть \(\vDash \alpha\), тогда \(\vdash \alpha\)
\end{corollary}
\begin{proof}
Пусть \(\vDash \alpha\), но \(\not\vdash \alpha\). Значит \(\{\neg \alpha\}\) --- непротиворечивое множество замкнутых формул. Тогда \(\{\alpha\}\) или \(\{\neg \alpha\}\) --- непр. мн. з. ф. Пусть \(\{\alpha\}\) --- непр. мн. з.ф., а \(\{\neg \alpha\}\) --- противоречивое. При этом \(\neg \alpha \vdash \beta \& \neg \beta\), \(\neg \alpha \vdash \alpha\), \(\beta \& \neg \beta \vDash \alpha\). \(\neg \alpha \vdash \alpha\), \(\alpha \vdash \alpha\). Значит \(\vdash \alpha\)
\end{proof}
\begin{itemize}
\item \(\Gamma\) --- п.м.з.ф.
\item перестроим \(\Gamma\) в \(\Gamma^\triangle\) --- п.н.м. \textbf{б.} з. ф.
\item по теореме о существование модели: \(M^\triangle\) --- модель для \(F^\triangle\)
\item покажем, что \(M^\triangle\) --- модель для \(\Gamma\) --- \(M\)
\end{itemize}
\(\Gamma_0 = \Gamma\), где все формулы --- в предварительной нормальной форме
\begin{definition}
ПНФ --- формула, где \(\forall \exists \forall \dots(\tau)\), \(\tau\) --- формула без кванторов
\end{definition}
\begin{theorem}
Если \(\varphi\) --- формула, то существует \(\psi\) --- в п.ф., то \(\varphi \to \psi\) и \(\psi \to \varphi\)
\end{theorem}
\begin{proof}
\(\Gamma_0 \subseteq \Gamma_1 \subseteq \Gamma_1 \subseteq \dots \subseteq \Gamma^*\). \(\Gamma^* = \bigcup_i \Gamma_i\) \\
Переход: \(\Gamma_i \to \Gamma_{i + 1}\) \\
Рассмторим: \(\varphi_j \in \Gamma_i\) \\
Построим семейство ф.с. \(d^j_i\) --- новые перменные
\begin{enumerate}
\item \(\varphi_j\) без кванторов --- не трогаем
\item \(\varphi_j \equiv \forall x. \psi\) --- добавим все формулы вида \(\psi[x := \Theta]\), где \(\Theta\) -- терм, состоящий из \(f\): \(d_0^e, d_1^{e'} \dots , d_{i - 1}^{e^{'\dots'}}\)
\item \(\varphi_j \equiv \exists x. \psi\) --- добавим \(\psi[x:=d^j_i]\)
\end{enumerate}
\(\Gamma_{i + 1} = \Gamma_i \cup \{\text{все добавленные формулы}\}\) --- счетное количество
\end{proof}
\begin{theorem}
Если \(\Gamma_i\) --- непротиворечиво, то \(\Gamma_{i + 1}\) --- непротиворечиво
\end{theorem}
\begin{theorem}
\(\Gamma*\) --- непротиворечиво
\end{theorem}
\begin{corollary}
\(\Gamma^\triangle = \Gamma*\) без формул с \(\forall, \exists\)
\end{corollary}
\end{document}
